<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wedding Prep Tracker</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap');
        body { font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        .animate-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-[#FAFAFB]">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;

        // Lucid Icon Wrapper for CDN
        const LucideIcon = ({ name, size = 24, className = "", fill = "none" }) => {
            useEffect(() => {
                if (window.lucide) window.lucide.createIcons();
            }, [name]);
            return <i data-lucide={name} className={className} style={{ width: size, height: size, display: 'inline-block' }}></i>;
        };

        const PLAN_DATA = {
            phases: [
                {
                    name: "Phase 1: Foundation (Weeks 1-4)",
                    weeks: [
                        { id: 1, workouts: { Monday: { title: "Upper Body - Push Focus", items: ["Dumbbell Chest Press (3x12)", "Dumbbell Flyes (3x12)", "Overhead Shoulder Press (3x10)", "Lateral Raises (3x12)", "Tricep Kickbacks (3x12/ea)", "Push-ups (3x8-12)", "Plank (3x30s)"] }, Tuesday: { title: "Walking Pad HIIT", items: ["5m Easy Warm-up", "20m: 1m fast / 30s sprint", "5m Cool-down", "5m stretching"] }, Wednesday: { title: "Basketball", items: ["Weekly Game Day", "Focus on intensity and fun"] }, Thursday: { title: "Lower Body - Quad Focus", items: ["Goblet Squats (4x15)", "Alt Forward Lunges (3x10/ea)", "SL Deadlifts (3x10/ea)", "Wall Sit (3x45s)", "Bicycle Crunches (3x20)", "Plank to Down Dog (3x10)", "Standing Calf Raises (3x20)"] }, Friday: { title: "Active Recovery", items: ["40m Steady Walk", "15m Full Body Stretch"] }, Saturday: { title: "Full Body Circuit", items: ["4 Rounds: Squat to Press (12), Renegade Rows (10/ea), Jump Squats (15), DB Swings (20), Mountain Climbers (30s)"] }, Sunday: { title: "Rest & Mobility", items: ["20m Gentle Yoga", "Foam Rolling"] } }, meals: { Breakfast: "Veggie Omelet + 1/2 cup Oatmeal", Lunch: "Grilled Chicken (5oz) + Quinoa", Dinner: "Baked Cod + Broccoli + Sweet Potato", Snacks: "Greek Yogurt + Almonds / Apple + Almond Butter" } },
                        { id: 2, workouts: { Monday: { title: "Upper Body - Pull Focus", items: ["Bent-over DB Rows (4x12)", "Single-arm Rows (3x10/ea)", "Reverse Flyes (3x15)", "Bicep Curls (3x12)", "Hammer Curls (3x12)", "Diamond Push-ups (3x8-10)", "Side Plank (3x30s/ea)"] }, Tuesday: { title: "Walking Pad Incline", items: ["5m Flat Warm-up", "25m varied pace/incline", "5m Cool-down"] }, Wednesday: { title: "Basketball", items: ["Weekly Game Day", "Stay hydrated!"] }, Thursday: { title: "Lower Body - Glute/Ham", items: ["Romanian Deadlifts (4x12)", "Bulgarian Split Squats (3x10/ea)", "SL Glute Bridges (3x15/ea)", "Sumo Squats (3x15)", "Russian Twists (3x30)", "Dead Bugs (3x12/ea)", "Glute Kickbacks (3x15/ea)"] }, Friday: { title: "Active Recovery Walk", items: ["45m Easy Pace", "10m Stretching"] }, Saturday: { title: "Full Body AMRAP", items: ["30 min AMRAP: 10 DB Thrusters, 15 Push-ups, 20 Walking Lunges, 25 Russian Twists, 30s Plank"] }, Sunday: { title: "Rest & Recovery", items: ["20m Gentle Walk", "Stretching & Self-care"] } }, meals: { Breakfast: "Overnight Oats + Protein + Berries", Lunch: "Turkey & Avocado Lettuce Wraps", Dinner: "Turkey Stir-fry + Cauliflower Rice", Snacks: "Hard-boiled Eggs / Cottage Cheese" } },
                        { id: 3, workouts: { Monday: { title: "Upper Body - Superset Style", items: ["Superset: Chest Press + Rows (3x12)", "Superset: Shoulder Press + Reverse Flyes (3x15)", "Superset: Curls + Dips (3x12)", "Plank Up-downs (3x10)"] }, Tuesday: { title: "Walking Pad - Pyramid", items: ["5m Warm-up", "Pyramid: 1-2-3-2-1 mins fast (walk between)", "Repeat Pyramid once", "5m Cool-down"] }, Wednesday: { title: "Basketball", items: ["Weekly Game Day", "Maximize hustle"] }, Thursday: { title: "Lower Body - Unilateral", items: ["SL Deadlifts (4x8/ea)", "Walking Lunges (3x12/ea)", "Step-ups (3x10/ea)", "SL Glute Bridges (3x12/ea)", "Side Leg Raises (3x15/ea)", "Plank with Leg Lifts (3x10/ea)"] }, Friday: { title: "Recovery + Core", items: ["30m Walk", "Core Circuit (3 rounds): Plank, Russian Twists, Dead Bugs, Bicycle Crunches"] }, Saturday: { title: "Full Body Tabata", items: ["20s Work / 10s Rest (4 mins each): DB Thrusters, Push-ups, Goblet Squats, Mountain Climbers, DB Swings, Burpees"] }, Sunday: { title: "Active Rest", items: ["30m Yoga or Stretching"] } }, meals: { Breakfast: "Smoked Salmon + Eggs + Avocado Toast", Lunch: "Asian Chicken Lettuce Wraps", Dinner: "Lemon Garlic Shrimp + Zucchini Noodles", Snacks: "Popcorn / Tuna Packet + Crackers" } },
                        { id: 4, workouts: { Monday: { title: "Upper - Deload (Light)", items: ["DB Chest Press (3x15) @ 60%", "Rows (3x15) @ 60%", "Shoulder Press (3x15)", "Curls & Extensions (3x15)", "Focus on mind-muscle connection"] }, Tuesday: { title: "Easy Walk", items: ["35m Steady Pace", "No Intervals"] }, Wednesday: { title: "Basketball", items: ["Fun game, don't push too hard"] }, Thursday: { title: "Lower - Bodyweight", items: ["Bodyweight Squats (3x20)", "Reverse Lunges (3x12/ea)", "Glute Bridges (3x20)", "Wall Sit (3x30s)", "10m Stretching"] }, Friday: { title: "Rest/Yoga", items: ["Complete Rest or 20m Gentle Stretching"] }, Saturday: { title: "Light Full Body", items: ["20m Easy Circuit", "Focus on movement quality"] }, Sunday: { title: "Rest & Recovery", items: ["Meal Prep", "Prepare for Phase 2"] } }, meals: { Breakfast: "Protein Pancakes + Berries", Lunch: "Turkey Chili + Side Salad", Dinner: "Baked Chicken + Zucchini + Potato", Snacks: "Greek Yogurt / Apple + Almonds" } }
                    ]
                },
                {
                    name: "Phase 2: Intensification (Weeks 5-8)",
                    weeks: Array.from({ length: 4 }, (_, i) => ({
                        id: 5 + i, workouts: { Monday: { title: "Upper - Heavy Strength", items: ["DB Chest Press (4x8)", "DB Rows (4x8)", "Arnold Press (3x10)", "DB Pullovers (3x10)", "Bicep/Tricep Superset (3x10)", "Finisher: Push-up Holds (3x20s)"] }, Tuesday: { title: "HIIT + Finishers", items: ["25m: 30s sprint / 30s walk", "Finisher: 100 Jumping Jacks"] }, Wednesday: { title: "Basketball", items: ["Weekly Game Day", "Extra hustle phase"] }, Thursday: { title: "Lower - Heavy & Explosive", items: ["Heavy Goblet Squats (4x10)", "Jump Lunges (3x8/ea)", "Heavy RDLs (4x10)", "High Step-ups (3x10/ea)", "Weighted Russian Twists (3x40)", "Plank Variations (3x45s)"] }, Friday: { title: "Active Recovery + Abs", items: ["25m Walk", "Abs Circuit (4 rounds): V-ups, Plank Jacks, Bicycle Crunches, Side Dips"] }, Saturday: { title: "Full Body Complex", items: ["5 Rounds: Deadlift (8), Hang Clean (6), Front Squat (8), Push Press (6), Bent Rows (8)"] }, Sunday: { title: "Rest & Mobility", items: ["30m Foam Rolling & Stretching"] } }, meals: { Breakfast: "Sweet Potato Hash + Eggs", Lunch: "Poke Bowl", Dinner: "Tilapia + Mango Salsa", Snacks: "Chia Pudding / Energy Balls" }
                    }))
                },
                {
                    name: "Phase 3: Peak Performance (Weeks 9-12)",
                    weeks: Array.from({ length: 4 }, (_, i) => ({
                        id: 9 + i, workouts: { Monday: { title: "Upper - Giant Sets", items: ["Giant Set 1: Chest Press, Rows, Push-ups, Pullovers", "Giant Set 2: Shoulder Press, Flyes, Raises", "Arms Finisher: Curls, Dips, Hammer Curls"] }, Tuesday: { title: "Pyramid Cardio", items: ["Pyramid UP/DOWN: 1-2-3-4-5-4-3-2-1 min intervals", "1m recovery walk between"] }, Wednesday: { title: "Basketball", items: ["Game On!", "Max Intensity"] }, Thursday: { title: "Lower - Glute Focused", items: ["Weighted Hip Thrusts (4x12)", "Sumo Deadlifts (4x10)", "Bulgarian Split Squats (3x10/ea)", "Curtsy Lunges (3x12/ea)", "Frog Pumps (3x20)"] }, Friday: { title: "Core Blast", items: ["5 rounds: 60s Plank, 30s Mt Climbers, 40 Russian Twists, 15 Leg Raises"] }, Saturday: { title: "100 Rep Challenge", items: ["100 Squats, 100 Push-ups, 100 Sit-ups, 100 DB Swings", "Time yourself!"] }, Sunday: { title: "Rest & Prep", items: ["Yoga + Meal Prep"] } }, meals: { Breakfast: "Shakshuka", Lunch: "Souvlaki Salad", Dinner: "Beef & Broccoli", Snacks: "Roasted Chickpeas" }
                    }))
                },
                {
                    name: "Phase 4: Refinement (Weeks 13-16)",
                    weeks: Array.from({ length: 4 }, (_, i) => ({
                        id: 13 + i, workouts: { Monday: { title: "Upper Circuit", items: ["40 Min AMRAP Circuit: 10 Chest Press, 10 Rows, 8 Shoulder Press, 12 Curls, 12 Extensions, 30s Plank"] }, Tuesday: { title: "Interval Variety", items: ["Speed and distance intervals", "Fartlek Training"] }, Wednesday: { title: "Basketball", items: ["Agility focus"] }, Thursday: { title: "Lower Density", items: ["30 Min AMRAP: 6 Exercises (10 reps ea)", "Track rounds completed"] }, Friday: { title: "Active Walk", items: ["40m Steady state"] }, Saturday: { title: "Wedding Day WOD", items: ["Benchmark: 20 Thrusters, 20 Burpees, 40 Lunges, 20 Push-ups, 40 Russian Twists, 20 DB Swings"] }, Sunday: { title: "Rest", items: ["Complete recovery"] } }, meals: { Breakfast: "Protein Oats", Lunch: "Fajita Bowl", Dinner: "Balsamic Chicken", Snacks: "Protein Muffin" }
                    }))
                },
                {
                    name: "Phase 5: Power (Weeks 17-20)",
                    weeks: Array.from({ length: 4 }, (_, i) => ({
                        id: 17 + i, workouts: { Monday: { title: "Upper Power", items: ["Explosive Push-ups (5x6)", "DB Power Cleans (5x6)", "Fast Chest Press (4x8)", "Explosive Rows (4x8)"] }, Tuesday: { title: "Sprint Intervals", items: ["8x30s Sprint / 90s Recovery", "50 Jump Squats Finisher"] }, Wednesday: { title: "Basketball", items: ["High Intensity Play"] }, Thursday: { title: "Lower Power", items: ["Jump Squats (5x8)", "Broad Jumps (5x5)", "Explosive Lunges (4x6/ea)", "Speed Deadlifts (5x5)"] }, Friday: { title: "Mobility", items: ["30m Hip & Shoulder Yoga"] }, Saturday: { title: "Full Body Power", items: ["Med Ball Slams", "Thrusters", "Box Jumps"] }, Sunday: { title: "Rest", items: ["Deep Recovery"] } }, meals: { Breakfast: "Veggie Hash", Lunch: "Turkey Soup", Dinner: "Grilled Halibut", Snacks: "Yogurt Bark" }
                    }))
                },
                {
                    name: "Phase 6: Countdown (Weeks 21-28)",
                    weeks: Array.from({ length: 8 }, (_, i) => ({
                        id: 21 + i, workouts: { Monday: { title: "Maintain & Perfect", items: ["W21-24: Strength maintenance", "W25: Final Assessment", "W26: Confidence Lifts", "W27: Taper week", "W28: Wedding Week - Gentle movement only"] }, Tuesday: { title: "Taper Walk", items: ["Steady state walking", "W28: Light 20m stroll"] }, Wednesday: { title: "Basketball / Hydrate", items: ["W28: Skip/Rest Day"] }, Thursday: { title: "Lower Taper", items: ["Bodyweight only", "Focus on mobility"] }, Friday: { title: "Hydration Priority", items: ["Yoga + High Water Intake", "Reduce Sodium (W28)"] }, Saturday: { title: "Final Rest", items: ["Complete Rest - Hydrate & Relax"] }, Sunday: { title: "July 31: Wedding Day!", items: ["Gentle Stretch", "Hydrate", "Enjoy your day!"] } }, meals: { Breakfast: "Light Fueling", Lunch: "Clean Prep", Dinner: "W28: No salt / High Water", Snacks: "No Alcohol W28" }
                    }))
                }
            ]
        };

        const App = () => {
            const [activeTab, setActiveTab] = useState('tracker');
            const [currentWeekId, setCurrentWeekId] = useState(1);
            
            const [completedTasks, setCompletedTasks] = useState(() => {
                const saved = localStorage.getItem('wedding_prep_tasks');
                return saved ? JSON.parse(saved) : {};
            });

            const [measurements, setMeasurements] = useState(() => {
                const saved = localStorage.getItem('wedding_prep_measurements');
                return saved ? JSON.parse(saved) : [{ date: 'Initial (Week 0)', weight: '', waist: '', hips: '' }];
            });

            useEffect(() => {
                localStorage.setItem('wedding_prep_tasks', JSON.stringify(completedTasks));
            }, [completedTasks]);

            useEffect(() => {
                localStorage.setItem('wedding_prep_measurements', JSON.stringify(measurements));
            }, [measurements]);

            const { currentPhase, currentWeek } = useMemo(() => {
                for (const phase of PLAN_DATA.phases) {
                    const week = phase.weeks.find(w => w.id === currentWeekId);
                    if (week) return { currentPhase: phase, currentWeek: week };
                }
                return { currentPhase: PLAN_DATA.phases[0], currentWeek: PLAN_DATA.phases[0].weeks[0] };
            }, [currentWeekId]);

            const toggleTask = (day, taskIdx) => {
                const key = `week-${currentWeekId}-${day}-${taskIdx}`;
                setCompletedTasks(prev => ({ ...prev, [key]: !prev[key] }));
            };

            const updateMeasurement = (index, field, value) => {
                const newM = [...measurements];
                newM[index][field] = value;
                setMeasurements(newM);
            };

            return (
                <div className="min-h-screen bg-[#FAFAFB] p-4 md:p-10 text-gray-900">
                    <div className="max-w-6xl mx-auto">
                        <header className="mb-12 flex flex-col md:flex-row md:items-center justify-between gap-6">
                            <div className="text-center md:text-left">
                                <div className="inline-flex items-center gap-2 px-4 py-1.5 bg-white border border-slate-100 text-pink-500 rounded-full text-[10px] font-black uppercase tracking-[0.2em] mb-4 shadow-sm">
                                    <LucideIcon name="calendar" size={12} />
                                    Wedding Countdown: July 31
                                </div>
                                <h1 className="text-5xl md:text-7xl font-black text-slate-900 tracking-tighter">
                                    Fit for the <span className="text-pink-500 italic">Big Day</span>
                                </h1>
                            </div>
                            <div className="flex gap-2 p-1.5 bg-slate-200/50 rounded-2xl backdrop-blur-sm mx-auto md:mx-0">
                                <button onClick={() => setActiveTab('tracker')} className={`px-8 py-3 rounded-xl text-sm font-black transition-all ${activeTab === 'tracker' ? 'bg-white shadow-md' : 'text-slate-500'}`}>Plan</button>
                                <button onClick={() => setActiveTab('measurements')} className={`px-8 py-3 rounded-xl text-sm font-black transition-all ${activeTab === 'measurements' ? 'bg-white shadow-md' : 'text-slate-500'}`}>Stats</button>
                            </div>
                        </header>

                        <main className="pb-32">
                            {activeTab === 'tracker' ? (
                                <div className="space-y-6 animate-in">
                                    <div className="bg-white p-4 rounded-3xl shadow-sm border border-pink-100 flex items-center justify-between sticky top-4 z-10">
                                        <button onClick={() => setCurrentWeekId(Math.max(1, currentWeekId - 1))} className="p-2 disabled:opacity-30"><LucideIcon name="chevron-left" className="text-pink-500"/></button>
                                        <div className="text-center">
                                            <p className="text-[10px] font-bold text-pink-400 uppercase tracking-widest">{currentPhase.name}</p>
                                            <h2 className="text-xl font-black">Week {currentWeekId}</h2>
                                        </div>
                                        <button onClick={() => setCurrentWeekId(Math.min(28, currentWeekId + 1))} className="p-2 disabled:opacity-30"><LucideIcon name="chevron-right" className="text-pink-500"/></button>
                                    </div>
                                    <div className="grid lg:grid-cols-2 gap-6">
                                        <div className="bg-white p-6 rounded-[2.5rem] shadow-sm border border-slate-100">
                                            <div className="flex items-center gap-3 mb-8"><div className="p-3 bg-blue-50 rounded-2xl text-blue-500"><LucideIcon name="dumbbell" /></div><h3 className="text-xl font-black">Training</h3></div>
                                            <div className="space-y-10">
                                                {Object.entries(currentWeek.workouts).map(([day, workout]) => (
                                                    <div key={day}>
                                                        <div className="flex justify-between items-baseline mb-3"><span className="text-xs font-black text-pink-500 uppercase tracking-widest">{day}</span><span className="text-xs font-bold text-slate-400">{workout.title}</span></div>
                                                        <div className="space-y-2">
                                                            {workout.items.map((item, idx) => {
                                                                const isCompleted = completedTasks[`week-${currentWeekId}-${day}-${idx}`];
                                                                return (
                                                                    <div key={idx} onClick={() => toggleTask(day, idx)} className={`flex items-center gap-4 p-3.5 rounded-2xl cursor-pointer border transition-all ${isCompleted ? 'bg-green-50 border-green-100' : 'bg-white border-slate-100'}`}>
                                                                        <LucideIcon name="check-circle-2" size={16} className={isCompleted ? 'text-green-500' : 'text-slate-200'} />
                                                                        <span className={`text-sm font-medium ${isCompleted ? 'line-through opacity-50' : ''}`}>{item}</span>
                                                                    </div>
                                                                );
                                                            })}
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                        <div className="space-y-6">
                                            <div className="bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-100">
                                                <div className="flex items-center gap-3 mb-8"><div className="p-3 bg-orange-50 rounded-2xl text-orange-500"><LucideIcon name="utensils" /></div><h3 className="text-xl font-black">Fueling</h3></div>
                                                <div className="grid gap-4">
                                                    {Object.entries(currentWeek.meals).map(([meal, desc]) => (
                                                        <div key={meal} className="p-5 bg-slate-50 rounded-2xl border border-slate-100">
                                                            <p className="text-[10px] font-black text-indigo-400 uppercase mb-2">{meal}</p>
                                                            <p className="text-sm font-medium leading-relaxed">{desc}</p>
                                                        </div>
                                                    ))}
                                                </div>
                                            </div>
                                            <div className="bg-slate-900 p-8 rounded-[2.5rem] text-white">
                                                <div className="flex items-center gap-2 mb-4 text-orange-400"><LucideIcon name="flame" size={20} /><span className="text-xs font-black uppercase">Phase Focus</span></div>
                                                <h4 className="text-2xl font-black mb-4">{currentPhase.name.split(':')[1] || currentPhase.name}</h4>
                                                <div className="flex items-center justify-between text-xs font-bold bg-white/10 p-4 rounded-2xl border border-white/10">
                                                    <span><LucideIcon name="clock" size={14} className="inline mr-2" />Week {currentWeekId}/28</span>
                                                    <span className="text-orange-400">{Math.round((currentWeekId/28)*100)}% Complete</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            ) : (
                                <div className="bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-100 animate-in">
                                    <div className="flex justify-between items-center mb-10">
                                        <h3 className="text-2xl font-black">Progress Log</h3>
                                        <button onClick={() => setMeasurements([...measurements, { date: `Week ${currentWeekId}`, weight: '', waist: '', hips: '' }])} className="bg-pink-500 text-white px-6 py-2.5 rounded-2xl text-sm font-black shadow-lg">New Log</button>
                                    </div>
                                    <div className="overflow-x-auto">
                                        <table className="w-full text-left">
                                            <thead>
                                                <tr className="border-b"><th className="pb-6 font-black text-slate-400 text-[10px] uppercase">Milestone</th><th className="pb-6 font-black text-slate-400 text-[10px] uppercase text-center">Weight</th><th className="pb-6 font-black text-slate-400 text-[10px] uppercase text-center">Waist</th><th className="pb-6 font-black text-slate-400 text-[10px] uppercase text-center">Hips</th></tr>
                                            </thead>
                                            <tbody className="divide-y divide-slate-50">
                                                {measurements.map((log, i) => (
                                                    <tr key={i}>
                                                        <td className="py-6"><input className="bg-transparent font-black w-full outline-none" value={log.date} onChange={(e) => updateMeasurement(i, 'date', e.target.value)} /></td>
                                                        <td className="py-6 text-center"><input placeholder="lbs" className="w-20 text-center bg-slate-100 rounded-xl p-2 font-bold outline-none" value={log.weight} onChange={(e) => updateMeasurement(i, 'weight', e.target.value)} /></td>
                                                        <td className="py-6 text-center"><input placeholder="in" className="w-20 text-center bg-slate-100 rounded-xl p-2 font-bold outline-none" value={log.waist} onChange={(e) => updateMeasurement(i, 'waist', e.target.value)} /></td>
                                                        <td className="py-6 text-center"><input placeholder="in" className="w-20 text-center bg-slate-100 rounded-xl p-2 font-bold outline-none" value={log.hips} onChange={(e) => updateMeasurement(i, 'hips', e.target.value)} /></td>
                                                    </tr>
                                                ))}
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            )}
                        </main>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
